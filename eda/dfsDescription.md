
Разведочный анализ данных
Для построения модели использовался набор данных df_cleaned_for_model.csv, содержащий 1 860 042 записей и 28 признаков различных типов: категориальных, числовых (int, float) и булевых.
Пропущенные значения
Пропуски выявлены примерно в 10% строк (около 185 000). Наиболее затронутые признаки: screen_size_category, user_id, target, visit_number, visit_number_encoded и другие. Возможные подходы к обработке:
удаление строк с пропущенными значениями при незначительном объёме;


заполнение значениями по умолчанию (например, 0, "unknown"), если важно сохранить объём данных.


Анализ категориальных признаков
Источник и канал привлечения:
 utm_source_grouped содержит большое разнообразие значений; лидируют ZpYIoDJMcFzVoPFsHGJL, fDLlAcSmythWSCVMvqvL —- в рекомендациях было оставить признаки с хешами для модели (например utm_keyword, но непонятно их практическое применение)
 utm_medium_grouped — основными каналами являются banner и cpc; (none) соответствует прямому трафику или органике.


Время визита:
 По признаку visit_part_of_day преобладают дневные визиты, затем вечерние и утренние. Это может быть полезным для анализа поведения по времени суток.


Информация об устройстве:
 device_os_recovered: в основном Android и iOS, более 1,5 млн записей.
 device_browser_clean: доминирует Chrome (более 1 млн).
 device_brand_cleaned: лидеры — Apple, Samsung, Xiaomi, Huawei, но около 367 тыс. значений — unknown.


География:
 В признаке geo_city_grouped явно лидируют Москва и Санкт-Петербург; остальные города объединены в категорию "other", что является хорошим способом нормализации.


Размер экрана:
 В screen_size_category преобладают medium, low, very_high.


Частота визитов:
 visit_number_encoded показывает, что более 1,2 млн записей — это первые визиты, после чего наблюдается закономерное убывание.


Анализ числовых признаков
Целевая переменная target имеет среднее значение около 0.95%, что указывает на выраженный дисбаланс классов.


Время визита по часам (visit_hour):
 среднее значение — около 13:00; пик активности приходится на дневные и вечерние часы.


Показатели активности (total_hits, unique_event_actions, unique_page_paths):
 распределения с длинным хвостом, встречаются сессии с экстремально высокими значениями (до 768 хитов).


user_target_rate — средняя доля целевых сессий у пользователя — менее 1%, медианное значение — 0%, что означает, что у половины пользователей не было целевых действий.


user_session_count: среднее значение — 1.29, максимальное — 412 сессий на одного пользователя.


Выводы и рекомендации для модели
Рекомендуемые признаки:
visit_dayofweek, visit_hour, visit_part_of_day — временные особенности поведения;


utm_medium_grouped, device_os_recovered, user_target_rate, total_hits — важные поведенческие и технические признаки.


Не включать в модель:
session_id, client_id, user_id — технические идентификаторы;


visit_date, visit_time — уже представлены в производных признаках.


Обработка данных:
пропуски необходимо либо удалить, либо заполнить значениями unknown, 0, -1 в зависимости от контекста;


в связи с сильным дисбалансом классов по target, требуется использование методов балансировки (например, oversampling, undersampling) или стратифицированной выборки при обучении.



Есть две собранные таблицы (head(20) по ним можно посмотреть здесь): первый с обработанными пропусками и более сырой - там заложены признаки для оценки траффика; второй набор уже подготовлен к обучению модели на основе логистической регрессии - собраны популярные экшены в булевы признаки по клиенскому пути, чтобы по поведению пользователя в сессии можно было вычислить, дойдет он до цели или нет (custom_target = 1)


session_id - Уникальный идентификатор сессии пользователя
go_to_car_card - Был ли выполнен переход к карточке автомобиля
pagination_click - Был ли выполнен клик по пагинации
photos - Было ли просмотрено фото
photos_all - Были ли просмотрены все фото
quiz_show - Была ли показана анкета
sap_search_form_cost_from - Было ли заполнено поле "стоимость от" в SAP форме
sap_search_form_cost_to - Было ли заполнено поле "стоимость до" в SAP форме
search_form_mark_select - Был ли выбран бренд в поисковой форме
search_form_model_select - Была ли выбрана модель автомобиля в форме поиска
... - Другие действия, аналогично вышеуказанным
custom_target - Целевое действие достигнуто (1) или нет (0) — таргет для ML-модели 


